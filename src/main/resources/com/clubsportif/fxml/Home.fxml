<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="700.0" prefWidth="1000.0" stylesheets="@../css/styles.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.clubsportif.controller.HomeController">

    <!-- ================= TOP NAVBAR ================= -->
    <top>
        <VBox>

            <!-- NAV BAR -->
            <HBox alignment="CENTER_LEFT" spacing="24" styleClass="navbar">
                <padding>
                    <Insets bottom="16" left="32" right="32" top="16" />
                </padding>

                <Label styleClass="logo" text="ClubMe" />

                <Region HBox.hgrow="ALWAYS" />

                <Button styleClass="nav-button" text="Home" />
                <Button styleClass="nav-button" text="Prices" />
                <Button styleClass="nav-button" text="About Us" />

                <Button onAction="#logout" styleClass="logout-button" text="Logout" />
            </HBox>

            <!-- HEADER -->
            <VBox spacing="8" styleClass="card header-card">
                <padding>
                    <Insets bottom="32" left="32" right="32" top="32" />
                </padding>

                <Label styleClass="header-title" text="Bienvenue dans l'espace club" />

                <Label styleClass="header-subtitle" text="S'entraîner. Progresser. Performer." />
            </VBox>
        </VBox>
    </top>

    <!-- ================= CENTER ================= -->
    <center>
        <StackPane>
            <!-- MAIN CONTENT -->
            <VBox fx:id="mainContent" alignment="TOP_CENTER" spacing="32">
                <padding>
                    <Insets bottom="40" left="40" right="40" top="40" />
                </padding>

                <!-- INTRODUCTION -->
                <VBox spacing="12" styleClass="card intro-card">
                    <Label styleClass="section-title" text="About Our Club" />
                    <Label styleClass="paragraph" text="Clubme est un centre de remise en forme moderne. Nous vous aidons à atteindre vos objectifs de santé et de performance" wrapText="true" />
                </VBox>

                <!-- PRICING BOX -->
                <HBox fx:id="pricingBox" alignment="CENTER" spacing="32">
                    <VBox prefHeight="218.0" prefWidth="186.0" spacing="16" styleClass="card price-card">
                        <Label styleClass="plan-title" text="Monthly Plan" />
                        <Label styleClass="price" text="300 DH" />
                        <Label styleClass="price-period" text="/ mois" />
                        <Region VBox.vgrow="ALWAYS" />
                        <Button fx:id="monthlyPlanButton" onAction="#choosePlan" styleClass="button-primary" text="Choisir" userData="1 month" />
                    </VBox>
   
                    <VBox prefHeight="218.0" prefWidth="221.0" spacing="16" styleClass="card price-card popular">
                        <Label styleClass="badge" text="POPULAR" />
                        <Label styleClass="plan-title" text="3 Months Plan" />
                        <Label styleClass="price" text="800 DH" />
                        <Label styleClass="price-period" text="/ 3 mois" />
                        <Region VBox.vgrow="ALWAYS" />
                        <Button fx:id="threeMonthsPlanButton" onAction="#choosePlan" styleClass="button-primary" text="Choisir" userData="3 months" />
                    </VBox>

                    <VBox prefHeight="218.0" prefWidth="201.0" spacing="16" styleClass="card price-card">
                        <Label styleClass="plan-title" text="Annual Plan" />
                        <Label styleClass="price" text="2800 DH" />
                        <Label styleClass="price-period" text="/ an" />
                        <Region VBox.vgrow="ALWAYS" />
                        <Button fx:id="annualPlanButton" onAction="#choosePlan" styleClass="button-primary" text="Choisir" userData="1 year" />
                    </VBox>
                </HBox>

                <!-- WELCOME BOX -->
                <VBox fx:id="welcomeBox" alignment="CENTER" spacing="24" styleClass="card welcome-card" visible="false">
                    <Label styleClass="welcome-title" text="Welcome to the club!" />
                    <Label styleClass="welcome-message" text="Please visit the club's administration desk to complete your registration." textAlignment="CENTER" wrapText="true" />
                    
                    <HBox alignment="CENTER" spacing="16">
                        <Button onAction="#changePlan" styleClass="button-primary" text="Change Plan" />
                        <Button onAction="#cancelRequest" styleClass="button-secondary-outline" text="Annuler" />
                    </HBox>
                </VBox>

                <!-- MEMBER STATUS BOX (for active members) -->
                <VBox fx:id="memberStatusBox" alignment="CENTER" spacing="28" styleClass="card member-status-card" visible="false">
                    <Label styleClass="status-title" text="Your Membership" />
                    
                    <VBox spacing="16" alignment="CENTER">
                        <HBox spacing="12" alignment="CENTER">
                            <Label styleClass="status-label" text="Status:" />
                            <Label fx:id="membershipStatusLabel" styleClass="status-active" text="ACTIVE" />
                        </HBox>
                        
                        <HBox spacing="12" alignment="CENTER">
                            <Label styleClass="status-label" text="Plan:" />
                            <Label fx:id="membershipPlanLabel" styleClass="plan-info" text="3 months" />
                        </HBox>
                        
                        <HBox spacing="12" alignment="CENTER">
                            <Label styleClass="status-label" text="End Date:" />
                            <Label fx:id="membershipEndDateLabel" styleClass="date-info" text="2024-12-31" />
                        </HBox>
                    </VBox>
                    
                    <Button onAction="#renewMembership" styleClass="button-primary" text="Renew Membership" />
                </VBox>

            </VBox>

            <!-- CONFIRMATION DIALOG -->
            <VBox fx:id="confirmDialog" alignment="CENTER" styleClass="dialog-overlay" visible="false">
                <VBox alignment="CENTER" spacing="24" styleClass="card dialog-card">
                    <padding>
                        <Insets bottom="32" left="32" right="32" top="32" />
                    </padding>

                    <Label styleClass="dialog-title" text="Confirm Your Plan" />
                    <Label fx:id="confirmMessage" styleClass="dialog-message" textAlignment="CENTER" wrapText="true" />
                    
                    <HBox alignment="CENTER" spacing="16">
                        <Button onAction="#confirmPlanSelection" styleClass="button-primary" text="Confirm" />
                        <Button onAction="#cancelDialog" styleClass="button-ghost" text="Annuler" />
                    </HBox>
                </VBox>
            </VBox>

        </StackPane>
    </center>

</BorderPane>
